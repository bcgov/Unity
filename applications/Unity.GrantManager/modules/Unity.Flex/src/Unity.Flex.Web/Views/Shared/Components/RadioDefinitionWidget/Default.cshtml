@using Unity.Flex.Web.Views.Shared.Components;
@using Unity.Flex.Web.Views.Shared.Components.RadioDefinitionWidget;
@using Unity.Flex.Worksheets.Definitions;

@model RadioDefinitionViewModel

<div>
    <abp-input type="text" id="GroupLabel" name="GroupLabel" asp-for="@Model.GroupLabel" />

    <div id="radioOptions">
    </div>

    <button type="button" id="addOptionBtn" class="btn btn-secondary">Add Radio Option</button>
</div>

<style>
    .option-container {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

        .option-container input[type="text"] {
            flex: 1;
            margin-right: 10px;
        }

        .option-container input[type="radio"] {
            flex-shrink: 0;
            margin-right: 10px;
            width: auto;
        }

        .option-container button {
            flex-shrink: 0;
        }
</style>

<script>
    (function () {
        let optionCount = 0;

        document.getElementById("addOptionBtn").addEventListener("click", function () {
            optionCount++;
            let optionId = `option${optionCount}Container`;
            let newOption = document.createElement("div");
            newOption.className = "option-container";
            newOption.id = optionId;
            newOption.innerHTML = `
                        <input type="radio" name="radio_input" />
                        <input type="text" id="option${optionCount}" name="Options" class="form-control" />
                        <button type="button" class="btn btn-danger btn-sm remove-option-btn" data-option-id="${optionId}">Delete Option</button>`;
            document.getElementById("radioOptions").appendChild(newOption);
        });

        document.getElementById("radioOptions").addEventListener("click", function (event) {
            if (event.target && event.target.classList.contains("remove-option-btn")) {
                let optionId = event.target.getAttribute("data-option-id");
                document.getElementById(optionId).remove();
            }
        });
    })();
</script>




