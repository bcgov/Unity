﻿@using Microsoft.AspNetCore.Mvc.Localization
@using Unity.Payments.Localization;
@using Unity.Payments.Web.Views.Shared.Components.PaymentInfo;
@using Volo.Abp.Authorization.Permissions;
@inject IHtmlLocalizer<PaymentsResource> L
@inject IPermissionChecker PermissionChecker
@model Unity.Payments.Web.Views.Shared.Components.PaymentInfo.PaymentInfoViewModel
@{
    Layout = null;
}
@{
}

<input type="hidden" id="ProjectInfoViewApplicationId" value="@Model.ApplicationId" />

<abp-row class="m-0 payment-info">
    <abp-row class="m-0 p-0">
        <abp-column size="_12" class="d-inline-flex justify-content-between pb-3 pt-2 project-location">
            <div id="PaymentInfoTitleRegion" class="d-flex align-items-stretch justify-content-start">
                <h6 class="ps-1 fw-bold">@L["PaymentInfoView:PaymentInfoTitle"].Value</h6>
            </div>
        </abp-column>
        <abp-button text="Save" id="savePaymentInfoBtn" class="floating-save-btn" icon-type="Other"
                    icon="fl fl-save" button-type="Primary" disabled="true" />
    </abp-row>
    <abp-row class="m-0 p-0">
        <abp-column size="_6" class="px-1">
            <div class="unity-input-group">
                <span class="unity-input-prepend">$</span>
            <abp-input class="unity-currency-input" asp-for="@Model.RequestedAmount" disabled />
            </div>
            <div class="unity-input-group">
                <span class="unity-input-prepend">$</span>
            <abp-input class="unity-currency-input" asp-for="@Model.ApprovedAmount" disabled />
            </div>
            <div class="unity-input-group">
                <span class="unity-input-prepend">$</span>
            <abp-input class="unity-currency-input" asp-for="@Model.TotalPendingAmounts" disabled />
            </div>
        </abp-column>
        <abp-column size="_6" class="px-1">
            <div class="unity-input-group">
                <span class="unity-input-prepend">$</span>
            <abp-input class="unity-currency-input" asp-for="@Model.RecommendedAmount" disabled />
            </div>
            <div class="unity-input-group">
                <span class="unity-input-prepend">$</span>
            <abp-input class="unity-currency-input" asp-for="@Model.TotalPaid" disabled />
            </div>
            <div class="unity-input-group">
                <span class="unity-input-prepend">$</span>
            <abp-input class="unity-currency-input" asp-for="@Model.RemainingAmount" disabled />
            </div>
        </abp-column>

    </abp-row>
    <abp-row class="m-0 p-0">
        <abp-column size="_12" class="d-inline-flex justify-content-between pb-3 pt-2 project-location">
            <div id="PaymentInfoTitleRegion" class="d-flex align-items-stretch justify-content-start">
                <h6 class="ps-1 fw-bold">@L["PaymentInfoView:PaymentInfoTableTitle"].Value</h6>
            </div>
        </abp-column>
    </abp-row>
    <abp-row class="m-0 p-0">
        <abp-column size="_12" class="px-1">
            @await Component.InvokeAsync("PaymentActionBar")
        </abp-column>
        <abp-column size="_12" class="px-1">
            <abp-table id="ApplicationPaymentRequestListTable"></abp-table>
        </abp-column>
    </abp-row>
</abp-row>


<script defer>
    (function () {
        if (window.jQuery) {
            $('.unity-currency-input').maskMoney();

        }
    })();
</script>
