@page
@model Unity.GrantManager.Web.Pages.Dashboard.IndexModel
@using Unity.GrantManager.Web.Pages.Dashboard

@section styles {
    <abp-style src="/Pages/Dashboard/Index.css" />
    <abp-style src="/libs/bootstrap/css/bootstrap.css" />
    <abp-style src="/libs/bootstrap-select/dist/css/bootstrap-select.css" />
}
@section scripts
{
    <abp-script src="/Pages/Dashboard/Index.js" />
    <abp-script src="/libs/jquery/jquery.js" />
    <abp-script src="/libs/popper.js/dist/umd/popper.js"></abp-script>
    <abp-script src="/libs/bootstrap-4/dist/js/bootstrap.js"></abp-script>
    <abp-script src="/libs/bootstrap-select/dist/js/bootstrap-select.js"></abp-script>
}
<div class="dashboard-scrollable-content">

<div id="dashboardIntakeList" style="display: none;">@Html.Raw(Json.Serialize(Model.DashboardIntakes))</div>
<div class="d-flex align-items-stretch gap-2 px-1">
    <abp-row class="m-0 p-0">
            <abp-column size="_2" class="px-1 application-dashboard-date">
                <abp-input type="date" id="dateFrom" label="Submission Date From" asp-for="@Model.SubmissionDateFrom" onchange="reloadDashboard()" abp-data-datepicker="false" />
            </abp-column>
            <abp-column size="_2" class="px-1 application-dashboard-date">
                <abp-input type="date" id="dateTo" label="Submission Date To" asp-for="@Model.SubmissionDateTo" onchange="reloadDashboard()" minDate="@Model.SubmissionDateFrom" abp-data-datepicker="false" />
            </abp-column>
    </abp-row>
</div>
<div class="d-flex align-items-stretch gap-2 px-1">
    <abp-row class="m-0 p-0">
        <abp-column size="_2" class="px-1 application-dashboard-dropdown">
            <abp-select asp-for="@Model.Tags" suppress-label="true" asp-items="@Model.TagsOptionsList" id="dashboardTags" multiple title="TAGS" data-original-text="TAGS" data-live-search="true" data-style="btn btn-group dt-buttons btn-secondary buttons-collection dropdown-toggle custom-table-btn flex-none"
                        onchange="reloadDashboard()">
            </abp-select>
        </abp-column>
        <abp-column size="_2" class="px-1 application-dashboard-dropdown">
            <abp-select asp-for="@Model.Assignees" suppress-label="true" asp-items="@Model.AssigneesOptionList" id="dashboardAssignees" multiple title="ASSIGNEES" data-original-text="ASSIGNEES" data-live-search="true" data-style="btn btn-group dt-buttons btn-secondary buttons-collection dropdown-toggle custom-table-btn flex-none"
                        onchange="reloadDashboard()">
            </abp-select>
        </abp-column>
        <abp-column size="_2" class="px-1 application-dashboard-dropdown">
                <abp-select asp-for="@Model.IntakeIds" suppress-label="true" asp-items="@Model.IntakeOptionsList" id="dashboardIntakeId" multiple title="INTAKES" data-original-text="INTAKES" data-checkbox="false" data-live-search="true" data-style="btn btn-group dt-buttons btn-secondary buttons-collection dropdown-toggle custom-table-btn flex-none">
            </abp-select>
        </abp-column>
        <abp-column size="_2" class="px-1 application-dashboard-dropdown">
                <abp-select asp-for="@Model.CategoryNames" suppress-label="true" asp-items="@Model.CategoryOptionsList" id="dashboardCategoryName" multiple title="CATEGORIES" data-original-text="CATEGORIES" data-live-search="true" data-style="btn btn-group dt-buttons btn-secondary buttons-collection dropdown-toggle custom-table-btn flex-none"
                        onchange="reloadDashboard()">
            </abp-select>
        </abp-column>
        <abp-column size="_2" class="px-1 application-dashboard-dropdown">
                <abp-select asp-for="@Model.Statuses" suppress-label="true" asp-items="@Model.StatusOptionsList" id="dashboardStatuses" multiple title="STATUS" data-original-text="STATUS" data-live-search="true" data-style="btn btn-group dt-buttons btn-secondary buttons-collection dropdown-toggle custom-table-btn flex-none"
                        onchange="reloadDashboard()">
            </abp-select>
        </abp-column>
        <abp-column size="_2" class="px-1 application-dashboard-dropdown">
                <abp-select asp-for="@Model.SubStatuses" suppress-label="true" asp-items="@Model.SubStatusActionList" id="dashboardSubStatus" multiple title="SUB-STATUS" data-original-text="SUB-STATUS" data-live-search="true" data-style="btn btn-group dt-buttons btn-secondary buttons-collection dropdown-toggle custom-table-btn flex-none"
                        onchange="reloadDashboard()">
            </abp-select>
        </abp-column>
    </abp-row>
</div>
<div class="row application-dashboard m-0">
    <div class="col-md-6 col-lg-4 col-sm-12 p-2 card-border-radius">
        <abp-card>
            <abp-card-body>
                <div id="applicationStatusChart"></div>
            </abp-card-body>
        </abp-card>
    </div>
    <div class="col-md-6 col-lg-4 col-sm-12 p-2 card-border-radius">
        <abp-card>
            <abp-card-body>
                <div id="economicRegionChart"></div>
            </abp-card-body>
        </abp-card>
    </div>
    <div class="col-md-6 col-lg-4 col-sm-12 p-2 card-border-radius">
        <abp-card>
            <abp-card-body>
                <div id="applicationTagsChart"></div>
            </abp-card-body>
        </abp-card>
    </div>
    <div class="col-md-6 col-lg-4 col-sm-12 p-2 card-border-radius">
        <abp-card>
            <abp-card-body>
                <div id="applicationAssigneeChart"></div>
            </abp-card-body>
        </abp-card>
    </div>
    <div class="col-md-6 col-lg-4 col-sm-12 p-2 card-border-radius">
        <abp-card>
            <abp-card-body>
                <div id="subsectorRequestedAmountChart"></div>
            </abp-card-body>
        </abp-card>
    </div>
    <div class="col-md-6 col-lg-4 col-sm-12 p-2 card-border-radius">
        <abp-card>
            <abp-card-body>
                <div id="requestVsApprovedChart"></div>
            </abp-card-body>
        </abp-card>
    </div>
</div>

</div>
