@using System.Text.Json
@using Unity.GrantManager.Comments;
@using Unity.GrantManager.Web.Views.Shared.Components.PaymentConfiguration;
@using Volo.Abp.AspNetCore.Mvc.UI.Layout;
@using Unity.GrantManager.Web.Pages.GrantApplications;
@model PaymentConfigurationViewModel

@{
    Layout = null;
}

<abp-input asp-for="@Model.HasEditFormPaymentConfiguration" type="hidden" />

<div class="px-3 pt-4 pb-2">
    <div>
        <h6 class="fw-bold">Configuration</h6>
    </div>
    <div>
        <abp-row class="m-0 payment-configuration-form">
            <abp-column size="_12" class="px-0">
                <abp-row class="m-0">
                    <abp-column size="_6" class="px-1">
                        <abp-select asp-for="@Model.AccountCode" asp-items="@Model.AccountCodeList">
                            <option value="">Please choose...</option>
                        </abp-select>
                    </abp-column>
                    <abp-column size="_6" class="px-1">

                    </abp-column>
                </abp-row>
            </abp-column>
            <p>
                <strong>Note:</strong> The Account Code selected for this form will apply exclusively
                to payments within this intake form, and will not affect the global settings.                
            </p>
            <hr />
            <div>
                <h6 class="fw-bold">Settings</h6>
            </div>
            <abp-row class="m-0 p-0">
                <abp-column size="_6" class="px-1">
                    <div class="form-switch">
                        <abp-input asp-for="@Model.Payable" abp-id-name="Payable"
                            check-box-hidden-input-render-mode="CheckBoxHiddenInputRenderMode.None"                            
                            label="Form is Payable" class="fw-bold" />
                    </div>
                </abp-column>
                <abp-column size="_6" class="px-1">
                    <div class="form-switch">
                        <abp-input asp-for="@Model.PreventAutomaticPaymentToCAS"
                            abp-id-name="PreventAutomaticPaymentToCAS"
                            check-box-hidden-input-render-mode="CheckBoxHiddenInputRenderMode.None"
                            label="Prevent Automatic Payment to CAS" class="fw-bold" />
                    </div>
                </abp-column>
            </abp-row>
        </abp-row>
    </div>
    <br/>
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-center">
                <abp-button id="btn-save-payment-configuration" button-type="Primary" text="Save" icon-type="Other" icon="fl fl-save"
                    class="btn unt-btn-primary btn-primary"></abp-button>
                <abp-button id="btn-back-payment-configuration" class="btn unt-btn-outline-primary btn-outline-primary mx-1"
                    abp-tooltip="Navigate back to the Forms">Back</abp-button>
            </div>
        </div>
    </div>
</div>
